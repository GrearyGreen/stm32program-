#include "fun.h"
#include "oled.h"
#include "key.h"
u8 key=0;
u8 flagmode;
u8 func_index=0;
void (*current_operation_index)();
int mode11[6] = {10,2,3,4,5,11};//【蓝牙模式】(flagmode = 1)
int mode12[6] = {2,3,4,5,18,18};//蓝牙模式
int mode21[6] = {10,0,1,4,5,11};//【无线模式】(flagmode = 2)  	
int mode22[6] = {0,1,4,5,18,18};//无线模式
int mode31[6] = {10,6,7,4,5,11};//【调速模式】(flagmode = 3)    
int mode32[6] = {6,7,4,5,18,18};//调速模式
int ret11[6] = {10,8,9,11,18,18};//【返回】
int ret12[6] = {8,9,18,18,18,18};//返回

typedef struct
{
	u8 current;//当前状态索引号
	u8 up;//向上翻索引号
	u8 down;//向下翻索引号
	u8 enter;//确认索引号
	void (*current_operation)(void);//函数指针
}key_table;

key_table code_table[12]=
{
    {0,10,11,1,(*fun10)},//第0层，显示Welcomem Use！！！！
    
    {1,4,2,5,(*fun1)},//第一层，显示【蓝牙模式】，无线模式，PWM调速模式,返回
    {2,1,3,6,(*fun2)},//第一层，显示蓝牙模式，【无线模式】，PWM调速模式,返回
    {3,2,4,7,(*fun3)},//第一层，显示蓝牙模式，无线模式，【PWM调速模式】,返回
    {4,3,1,0,(*fun4)},//第一层，显示蓝牙模式，无线模式，PWM调速模式,【返回】

	{5,5,5,1,(*fun5)},//第二层，蓝牙模式下显示"SuccessEnter！！！"(flagmode = 1)
	{6,6,6,2,(*fun6)},//第二层，无线模式下显示"SuccessEnter！！！"(flagmode = 2)
	{7,9,8,8,(*fun7)},//第二层，PWM模式下显示【PWML：】、PWMR：、返回  (flagmode = 3)       	
	{8,7,9,9,(*fun8)},//第二层，PWM模式下显示PWML：、【PWMR：】、返回  
	{9,8,7,4,(*fun9)}, //第二层，PWM模式下显示PWML：、PWMR：、【返回】  
	
	{10,11,11,0,(*fun11)}, //显示图片
	{11,10,10,0,(*fun12)}, //
};

unsigned char OLED_buffer1[1024]={
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0xF0,0x00,0x00,0x00,0x00,0x20,0x20,0xE0,0xE0,0x20,0x20,0x00,
0x00,0x00,0x00,0xA0,0xA0,0xA0,0xA0,0xA0,0xA0,0x00,0x00,0x00,0x00,0xE0,0xA0,0xA0,
0xA0,0xA0,0xA0,0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0xA0,0xA0,0xA0,0xA0,0xA0,0xA0,0x00,0x00,0x00,0x08,0x82,0x70,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x03,0x3C,0xC0,0x00,0x00,0x00,0x00,0x43,0x43,0x60,0x60,0x60,
0x20,0x20,0xA0,0xA2,0xA2,0xB2,0xB2,0xB2,0xB2,0xB0,0xB0,0xB0,0xB0,0xB2,0x32,0x32,
0x32,0xB2,0xB3,0xB0,0xB0,0xB0,0xB3,0xB3,0xB2,0xB2,0xA2,0xA2,0xA0,0x20,0x20,0x60,
0x63,0x60,0x60,0x40,0x40,0x03,0x00,0x00,0x80,0xF0,0x1F,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x0E,0x70,0xC0,0x20,0x80,0x00,0x01,0x03,0x03,
0x07,0x07,0x03,0x01,0x01,0x01,0x01,0x01,0x01,0x03,0x3F,0xFF,0xFF,0xFF,0xFF,0xFE,
0xFF,0xFF,0xFF,0xFF,0xFF,0x0F,0x01,0x01,0x01,0x01,0x01,0x01,0x03,0x07,0x07,0x03,
0x03,0x01,0x00,0x00,0x40,0x80,0xE0,0x3C,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x07,0x1C,0x38,0xE0,0xD0,0x20,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x1F,0xFF,0xFF,0xFF,
0xFF,0xFF,0x7F,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,
0x80,0xC8,0x70,0x3C,0x0E,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,
0x0E,0x1C,0x3A,0x74,0xE8,0xD0,0x80,0x80,0x00,0x80,0x00,0x00,0x00,0x01,0x1F,0xFF,
0x3F,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0xA0,0xD0,0xE0,0x70,0x38,0x1D,0x0E,0x07,
0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x03,0x07,0x0E,0x1C,0x1C,0x38,0x38,0x70,0x70,
0x70,0x70,0x38,0x18,0x1C,0x0E,0x06,0x07,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"C:\Users\86139\Desktop\5526b382b5f2365853bed0b1484f21ed.bmp",0*/

};//特斯拉图标
unsigned char OLED_buffer2[1024]={
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x80,0x80,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x80,
0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x28,0x28,0x44,0x84,0x04,0x00,0x82,
0x82,0x02,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x18,0x00,0x1C,0x00,0x00,0x98,0x00,
0x00,0x01,0x03,0x06,0x84,0x84,0x48,0x68,0x30,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x38,0x78,0xC4,0x06,0x02,0x02,0x02,
0x02,0x03,0x83,0xC3,0x42,0x62,0x36,0x1C,0x80,0x80,0xC0,0x40,0x40,0xC0,0x80,0x80,
0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0x60,0x10,0x0C,0x07,0x23,0x60,
0x60,0x70,0x30,0x30,0x38,0x38,0x18,0x10,0x00,0x00,0x00,0x00,0x00,0x18,0x1C,0x38,
0x38,0x30,0xFF,0x33,0x70,0x70,0x30,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x38,0x24,
0x54,0x20,0x22,0x22,0x12,0x12,0x02,0x0A,0x12,0x60,0xC3,0x02,0x04,0x34,0xF8,0x00,
0x38,0x3C,0x44,0x46,0x42,0x02,0x02,0x02,0x02,0x82,0x82,0x02,0x01,0x00,0x00,0x00,
0x80,0x42,0x03,0x80,0x00,0x02,0x02,0x01,0x60,0x00,0x90,0x90,0x10,0x10,0x10,0x10,
0x11,0x09,0x0F,0x00,0x00,0xE0,0x38,0x0C,0x03,0x00,0x00,0x00,0x00,0x80,0x70,0x08,
0x04,0x80,0x82,0x00,0x00,0x00,0x40,0x02,0x02,0x04,0x08,0x78,0x04,0x84,0x00,0x02,
0x02,0x00,0x03,0x02,0x04,0x0C,0x78,0x60,0x80,0x00,0x00,0x00,0x00,0xF0,0x18,0x08,
0x04,0x04,0x04,0x04,0x04,0x04,0x0C,0x88,0x78,0x30,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x80,0x80,0x80,0x00,0x40,0x40,0x46,0x7F,0x01,0xA1,0xA1,0xA1,0xA0,0x21,0x21,
0x00,0x00,0x00,0x00,0x00,0x00,0x06,0x0F,0x09,0x19,0x10,0x10,0x10,0x10,0x18,0x0F,
0x04,0x00,0x00,0x07,0x04,0x08,0x08,0x08,0x08,0x08,0x08,0x09,0x07,0x04,0x00,0x00,
0x00,0x00,0xE0,0x3C,0x03,0x00,0x08,0x04,0xFC,0xFC,0xF8,0xF1,0xE1,0xE0,0xE2,0xC8,
0xCA,0xD2,0xD3,0x83,0x80,0x80,0x80,0x80,0x80,0x90,0x88,0x85,0x88,0x91,0x91,0x01,
0x01,0x40,0x50,0x00,0x08,0x1C,0x63,0x83,0x02,0x04,0x04,0x04,0x06,0x03,0x00,0x00,
0x00,0x00,0x00,0x00,0x1E,0x13,0x21,0x20,0x20,0x20,0x20,0x10,0x00,0x08,0x08,0x00,
0x00,0x08,0x04,0x04,0x08,0x08,0x88,0xF0,0x00,0x00,0x00,0x00,0x80,0x80,0xC0,0x4E,
0xDF,0x51,0x30,0x00,0x00,0x00,0x04,0x04,0xFC,0x04,0x04,0x04,0x24,0x86,0xAB,0x38,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0x60,0x20,0x00,0x10,
0x10,0x5C,0x87,0x80,0x00,0x00,0x00,0x00,0x01,0x07,0x0F,0x1F,0x1F,0x3F,0x5F,0x5F,
0x5F,0x1F,0x9F,0x9F,0xBF,0x9F,0x9F,0x9F,0x1F,0xFF,0xFF,0xFF,0x7F,0x7F,0x7F,0x78,
0x30,0x20,0x20,0x00,0x00,0x00,0x00,0x00,0x01,0x02,0x04,0x08,0x10,0x10,0xC4,0x04,
0x08,0x70,0x00,0x10,0x20,0xE0,0x40,0x40,0x4C,0x42,0x50,0x62,0x62,0x22,0x22,0x22,
0x22,0x02,0x12,0x12,0x11,0x09,0x08,0x0C,0x64,0x9C,0x4E,0x13,0xAD,0x50,0x23,0xA4,
0x48,0x48,0x10,0x90,0x20,0x20,0x20,0x20,0x03,0x12,0x90,0x58,0x3C,0x04,0x05,0x05,
0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x40,0x40,0x40,0x20,0x20,0x20,0x10,0x10,
0x10,0x10,0x10,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x0C,0x17,0x22,0x02,0x04,0x40,
0x08,0x08,0x00,0x00,0x01,0x01,0x02,0x02,0x02,0x04,0x04,0x04,0x00,0x08,0x08,0x08,
0x08,0x00,0x00,0x10,0x10,0x10,0x10,0x50,0x10,0x00,0x08,0x08,0x00,0x00,0x00,0x00,
0x00,0x00,0x04,0x84,0x80,0x10,0x90,0x40,0x6A,0x0A,0x98,0xC9,0x0D,0x57,0x31,0x08,
0x04,0x02,0x08,0x04,0x02,0x01,0x00,0x80,0x00,0x01,0x00,0x00,0x02,0x00,0x00,0x04,
0x04,0x00,0x08,0x08,0x00,0x10,0x10,0x00,0x20,0x00,0x40,0x41,0xC0,0xC2,0x41,0x20,
0x24,0x20,0x10,0x10,0x08,0x08,0x04,0x02,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
0x02,0x02,0x01,0x21,0x21,0x40,0x40,0x80,0x00,0x00,0x00,0x00,0x40,0xA0,0x40,0x00,
0x90,0x20,0x50,0xA0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x2C,
0x02,0x00,0x29,0x94,0x92,0x08,0x46,0x41,0x40,0x00,0x00,0x20,0x20,0x00,0x20,0x40,
0x80,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x20,0x00,0xC0,0x00,0x00,
0x00,0x00,0x00,0x40,0x40,0x00,0x00,0x00,0x00,0x08,0x18,0x20,0x40,0x00,0x11,0x31,
0x42,0x12,0x04,0x08,0x18,0x30,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"C:\Users\86139\Desktop\mmexport1597485648763.bmp",0*/
};  //大哥头像
unsigned char OLED_buffer3[1024]={

0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0x0F,0x07,0x03,0x01,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x7F,
0x7F,0x7F,0x7F,0x3F,0x7F,0x7F,0x7F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,
0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x7F,0x7F,0x7F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0x7F,0x07,0x03,0x80,0xC1,0x43,0x47,0x47,0xC7,0xCF,0x6F,0x6F,0xC7,0xC7,0xCF,
0xEF,0xEC,0xE3,0xC2,0xE4,0xE4,0xE4,0xE0,0xE0,0xE3,0xE3,0xE3,0xE3,0xE3,0xC3,0xC3,
0xC1,0xC1,0xC1,0xE1,0xE1,0xE1,0xE1,0xE1,0xE1,0xE3,0xC2,0xC2,0xC5,0xC5,0xC5,0x45,
0x05,0x05,0x03,0x03,0x0B,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x01,0x01,0x00,
0x30,0x60,0x60,0x60,0x60,0x70,0x70,0xF0,0xF0,0x70,0x70,0x70,0x70,0x58,0xB8,0xB0,
0xB8,0xB8,0xB8,0xF8,0xF8,0xF8,0xDA,0xDC,0xDC,0xDC,0xCC,0xCC,0xCC,0xCC,0xCC,0xCC,
0xCC,0xCC,0xCC,0xC4,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x80,0x80,0x00,0x01,0x01,
0x01,0x03,0x07,0x0F,0x1F,0xBF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x7F,0x3F,0x3F,0x1F,
0xFC,0xFC,0x38,0xF8,0xF8,0xF8,0xF8,0x18,0x18,0x18,0x1C,0xDC,0xDE,0x7E,0x3E,0x3E,
0x3F,0x3F,0x3F,0x3F,0x3F,0x7F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFE,0xBE,0xBE,0x9E,0x8C,0x4C,0x4C,0x7C,0x3C,0x1C,0x1C,0x3C,0x3C,0x0C,0x0C,0xFC,
0xFC,0xF8,0x18,0x18,0x18,0x18,0x38,0xF8,0x88,0x08,0x08,0x08,0x08,0x08,0x08,0x08,
0x08,0xF8,0xF8,0xFC,0xFC,0x04,0x1C,0x1C,0x1C,0x3E,0x26,0x27,0x27,0x27,0x27,0x47,
0x4F,0x5D,0x5E,0x5E,0x7F,0x7F,0xFF,0x7F,0x7F,0x7F,0x7F,0xFF,0xBF,0x2F,0x2F,0x2F,
0x2F,0x6F,0x4F,0xCE,0x8E,0x06,0x0F,0x0F,0x0F,0x0F,0x9F,0xF7,0x66,0x07,0x07,0x07,
0x07,0xF7,0xFF,0xFF,0xFF,0xFF,0xFF,0x3F,0x1F,0x07,0x03,0x01,0x00,0x00,0x18,0xFE,
0x5F,0x5F,0xFE,0xFF,0xFF,0xFF,0x87,0x00,0x00,0x00,0x00,0x03,0x03,0x06,0x04,0xC4,
0xE4,0x84,0x82,0xC2,0xE3,0x81,0x81,0x80,0xE0,0xE0,0x83,0x83,0x81,0x81,0x81,0x81,
0x81,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xFC,0xFF,
0xFF,0x7F,0x40,0x60,0xE0,0xB0,0x98,0x8F,0x8F,0x00,0x00,0x00,0x00,0x40,0xC0,0x80,
0x80,0x3F,0x7F,0x7F,0xFF,0xE0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,
0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xF8,0xF0,0xE0,0xE0,0xF8,0x70,0x60,0x60,0x68,
0x78,0x70,0x70,0x70,0x71,0x71,0x71,0x71,0x71,0x71,0x71,0x71,0x70,0x30,0x30,0x30,
0x38,0x3F,0x3F,0x3F,0x1F,0x0F,0x00,0x00,0x80,0xC0,0xFC,0x7C,0x46,0x46,0x42,0x43,
0x0C,0x1C,0x1C,0x19,0x0F,0x0F,0x1F,0x7D,0xF1,0xE1,0x81,0x01,0x01,0x01,0x01,0x01,
0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x01,0x01,0x01,0x01,0x01,0x01,
0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x80,0x80,
0xC0,0x40,0x40,0x60,0x20,0xA0,0xA0,0xA0,0xA1,0xB0,0x90,0x90,0x90,0x90,0x10,0x10,
0x10,0x30,0x20,0x20,0x20,0x60,0x40,0x40,0xC0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,
0xC0,0xE0,0x60,0x30,0x38,0x1C,0x0E,0x07,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x07,0x0E,0x1C,0x38,0x38,
0x30,0x60,0x60,0xC0,0xC0,0x80,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x07,0x03,0x01,0x00,
0x00,0x00,0x03,0x01,0x01,0x09,0x0C,0x04,0x26,0x32,0x12,0x12,0x1A,0x0A,0x0A,0x0A,
0x0A,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x80,0x80,0x80,0xC0,0x40,0xE0,0xE0,0xF0,0xF0,0x18,0x1C,0x0C,0x06,0x07,0x03,0x01,
0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x03,0x03,0x03,0x06,0x0E,0x1E,0x7E,
0xFC,0xC4,0x04,0x0C,0x0C,0x08,0x08,0x08,0x18,0x18,0x10,0x10,0x10,0x30,0x30,0x20,
0x20,0x20,0x20,0x60,0x60,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0xC0,0xC0,0xC0,0xC0,
0xC0,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x60,0x20,0x20,0x20,0x30,0x30,0x10,0x10,
0x10,0x18,0x18,0x08,0x08,0x0C,0x04,0x04,0x04,0x06,0x06,0x02,0x02,0x03,0x01,0x01,
0x01,0x01,0x00,0x00,0x00,0xFF,0xFF,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"C:\Users\86139\Desktop\7a2623189e809358.bmp",0*/
};
void fun1(void)
{
    flagmode = 0;//初始化模式
	
	OLED_Show16x16(0,0,51,0);
	OLED_Show16x16(16,0,43,0);  //【蓝牙模式】
	OLED_Show16x16(32,0,44,0);
	OLED_Show16x16(48,0,45,0);
	OLED_Show16x16(64,0,46,0);
	OLED_Show16x16(80,0,52,0);
	
	
	
	OLED_Show16x16(16,2,41,0);  //无线模式
	OLED_Show16x16(32,2,42,0);
	OLED_Show16x16(48,2,45,0);
	OLED_Show16x16(64,2,46,0);
	
	OLED_Show16x16(16,4,47,0);  //调速模式
	OLED_Show16x16(32,4,48,0);
	OLED_Show16x16(48,4,45,0);
	OLED_Show16x16(64,4,46,0);
	

	OLED_Show16x16(32,6,49,0);  //返回
	OLED_Show16x16(48,6,50,0);

	
	
	
	
	
//	OLED_P6x8Str(0,0,"[lanya]",0);
//	OLED_P6x8Str(0,2,"xunji",0);
//	OLED_P6x8Str(0,4,"pwm",0);
//	OLED_P6x8Str(0,6,"return",0);

}

void fun2(void)
{
    flagmode = 0;//初始化模式
	
	OLED_Show16x16(16,0,43,0);  //【蓝牙模式】
	OLED_Show16x16(32,0,44,0);
	OLED_Show16x16(48,0,45,0);
	OLED_Show16x16(64,0,46,0);
	
	
	
	OLED_Show16x16(0,2,51,0);
	OLED_Show16x16(16,2,41,0);  //无线模式
	OLED_Show16x16(32,2,42,0);
	OLED_Show16x16(48,2,45,0);
	OLED_Show16x16(64,2,46,0);
	OLED_Show16x16(80,2,52,0);
	
	OLED_Show16x16(16,4,47,0);  //调速模式
	OLED_Show16x16(32,4,48,0);
	OLED_Show16x16(48,4,45,0);
	OLED_Show16x16(64,4,46,0);
	

	OLED_Show16x16(32,6,49,0);  //返回
	OLED_Show16x16(48,6,50,0);

	
	
//	OLED_P6x8Str(0,0,"lanya",0);
//	OLED_P6x8Str(0,2,"[xunji]",0);
//	OLED_P6x8Str(0,4,"pwm",0);
//	OLED_P6x8Str(0,6,"return",0);
}

void fun3(void)
{
    flagmode = 0;//初始化模式
	OLED_Show16x16(16,0,43,0);  //【蓝牙模式】
	OLED_Show16x16(32,0,44,0);
	OLED_Show16x16(48,0,45,0);
	OLED_Show16x16(64,0,46,0);
	
	
	
	
	OLED_Show16x16(16,2,41,0);  //无线模式
	OLED_Show16x16(32,2,42,0);
	OLED_Show16x16(48,2,45,0);
	OLED_Show16x16(64,2,46,0);
	
	
	OLED_Show16x16(0,4,51,0);
	OLED_Show16x16(16,4,47,0);  //调速模式
	OLED_Show16x16(32,4,48,0);
	OLED_Show16x16(48,4,45,0);
	OLED_Show16x16(64,4,46,0);
	OLED_Show16x16(80,4,52,0);

	OLED_Show16x16(32,6,49,0);  //返回
	OLED_Show16x16(48,6,50,0);
	
	
	
//	OLED_P6x8Str(0,0,"lanya",0);
//	OLED_P6x8Str(0,2,"xunji",0);
//	OLED_P6x8Str(0,4,"[pwm]",0);
//	OLED_P6x8Str(0,6,"return",0);
}
void fun4(void)
{
    flagmode = 0;//初始化模式
	OLED_Show16x16(16,0,43,0);  //【蓝牙模式】
	OLED_Show16x16(32,0,44,0);
	OLED_Show16x16(48,0,45,0);
	OLED_Show16x16(64,0,46,0);
	
	
	
	
	OLED_Show16x16(16,2,41,0);  //无线模式
	OLED_Show16x16(32,2,42,0);
	OLED_Show16x16(48,2,45,0);
	OLED_Show16x16(64,2,46,0);

	
	OLED_Show16x16(16,4,47,0);  //调速模式
	OLED_Show16x16(32,4,48,0);
	OLED_Show16x16(48,4,45,0);
	OLED_Show16x16(64,4,46,0);


    OLED_Show16x16(0,6,51,0);
	OLED_Show16x16(32,6,49,0);  //返回
	OLED_Show16x16(48,6,50,0);
	OLED_Show16x16(80,6,52,0);
//	OLED_P6x8Str(0,0,"lanya",0);
//	OLED_P6x8Str(0,2,"xunji",0);
//	OLED_P6x8Str(0,4,"pwm",0);
//	OLED_P6x8Str(0,6,"[return]",0);
}
void fun5(void)
{
	flagmode = 1;
	OLED_Show16x16(16,0,43,0);  //【蓝牙模式】
	OLED_Show16x16(32,0,44,0);
	OLED_Show16x16(48,0,45,0);
	OLED_Show16x16(64,0,46,0);
	OLED_P8x16Str(0,3,"SuccessEnter",0);
}
void fun6(void)
{
	flagmode = 2;
	OLED_Show16x16(16,0,41,0);  //无线模式
	OLED_Show16x16(32,0,42,0);
	OLED_Show16x16(48,0,45,0);
	OLED_Show16x16(64,0,46,0);
    OLED_P8x16Str(0,3,"SuccessEnter",0);
}
void fun7(void)
{
	flagmode = 3;
    OLED_Show16x16(16,0,47,0);  //调速模式
	OLED_Show16x16(32,0,48,0);
	OLED_Show16x16(48,0,45,0);
	OLED_Show16x16(64,0,46,0);
	
	
	OLED_Show16x16(0,2,51,0);
	OLED_Show16x16(16,2,53,0);  //【左轮速度】
	OLED_Show16x16(32,2,54,0);
	OLED_Show16x16(48,2,57,0);
	OLED_Show16x16(64,2,58,0);
	OLED_Show16x16(80,2,52,0);
	
	
	OLED_Show16x16(16,4,55,0);  //右轮速度
	OLED_Show16x16(32,4,56,0);
	OLED_Show16x16(48,4,57,0);
	OLED_Show16x16(64,4,58,0);
	
	OLED_Show16x16(32,6,49,0);  //返回
	OLED_Show16x16(48,6,50,0);
//	OLED_P6x8Str(0,0,"[pwml]",0);
//	OLED_P6x8Str(0,2,"pwmr",0);
//	OLED_P6x8Str(0,4,"return",0);
}
void fun8(void)
{
	flagmode = 3;
	OLED_Show16x16(16,0,47,0);  //调速模式
	OLED_Show16x16(32,0,48,0);
	OLED_Show16x16(48,0,45,0);
	OLED_Show16x16(64,0,46,0);
	
	

	OLED_Show16x16(16,2,53,0);  //【左轮速度】
	OLED_Show16x16(32,2,54,0);
	OLED_Show16x16(48,2,57,0);
	OLED_Show16x16(64,2,58,0);
	
	
	OLED_Show16x16(0,4,51,0);
	OLED_Show16x16(16,4,55,0);  //右轮速度
	OLED_Show16x16(32,4,56,0);
	OLED_Show16x16(48,4,57,0);
	OLED_Show16x16(64,4,58,0);
	OLED_Show16x16(80,4,52,0);
	
	OLED_Show16x16(32,6,49,0);  //返回
	OLED_Show16x16(48,6,50,0);
//	OLED_P6x8Str(0,0,"pwml",0);
//	OLED_P6x8Str(0,2,"[pwmr]",0);
//	OLED_P6x8Str(0,4,"return",0);
}
void fun9(void)
{
	flagmode = 3;
	OLED_Show16x16(16,0,47,0);  //调速模式
	OLED_Show16x16(32,0,48,0);
	OLED_Show16x16(48,0,45,0);
	OLED_Show16x16(64,0,46,0);
	
	
	
	OLED_Show16x16(16,2,53,0);  //【左轮速度】
	OLED_Show16x16(32,2,54,0);
	OLED_Show16x16(48,2,57,0);
	OLED_Show16x16(64,2,58,0);

	
	
	OLED_Show16x16(16,4,55,0);  //右轮速度
	OLED_Show16x16(32,4,56,0);
	OLED_Show16x16(48,4,57,0);
	OLED_Show16x16(64,4,58,0);
	
	
	OLED_Show16x16(0,6,51,0);
	OLED_Show16x16(32,6,49,0);  //返回
	OLED_Show16x16(48,6,50,0);
	OLED_Show16x16(80,6,52,0);
//	OLED_P6x8Str(0,0,"pwml",0);
//	OLED_P6x8Str(0,2,"pwmr",0);
//	OLED_P6x8Str(0,4,"[return]",0);
}
void fun10(void)
{

	OLED_P6x8Str(64,3,"menu",0);
}
void fun11(void)
{
	OLED_DrawBMP(0,0,128,8,OLED_buffer2);
}
void fun12(void)
{
	OLED_DrawBMP(0,0,128,8,OLED_buffer3);
}
void KeyAction(u8 keycode)
{
    if(keycode == 2)//按下按键KEY2
    {
        func_index = code_table[func_index].up;//功能函数的索引值为数组中的up索引值
        OLED_CLS();//注意每次按下按键才清一次屏
    }
    else if(keycode == 1)//按下按键KEY1
    {
        func_index = code_table[func_index].down;//功能函数的索引值为数组中的down索引值
        OLED_CLS();
    }
    else if(keycode == 3)//按下按键KEY3
    {
        func_index = code_table[func_index].enter;//功能函数的索引值为数组中的enter索引值
        OLED_CLS();
    }
}
void display(void)
{
	key=KEY_Scan(0);
	KeyAction(key);
	current_operation_index = code_table[func_index].current_operation;
	(*current_operation_index)();//执行当前操作函数
}
